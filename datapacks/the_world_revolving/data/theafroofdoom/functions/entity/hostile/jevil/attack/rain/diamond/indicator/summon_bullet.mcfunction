# Project: THE WORLD REVOLVING
# Author: TheAfroOfDoom
# Function: \entity\hostile\jevil\attack\rain\diamond\indicator\summon_bullet.mcfunction

# Summon bullet based on variant
summon armor_stand ~ ~-7 ~ {CustomName:"\"Diamond Droplet\"",Invisible:1,Invulnerable:1,Marker:1,NoGravity:1,Tags:["the_world_revolving","groupable","needs_group_id","groupable_bullet","needs_bullet_id","hostile","attack","attack_bullet","attack_bullet_rain","attack_bullet_rain_new","attack_bullet_rain_inactive","attack_bullet_rain_diamond"],Passengers:[{Duration:2147483000,Effects:[{Amplifier:1,Id:11,ShowParticles:0b,ShowIcon:0b},{Amplifier:1,Id:7,ShowParticles:0b,ShowIcon:0b}],id:"minecraft:area_effect_cloud",Particle:"block air",Radius:1.2,ReapplicationDelay:1,Tags:["the_world_revolving","groupable","needs_group_id","groupable_bullet","needs_bullet_id","hostile","attack","attack_damager","attack_damager_rain","attack_damager_rain_diamond"],Passengers:[{Duration:2147483627,Effects:[{Amplifier:3,Id:11,ShowParticles:0b,ShowIcon:0b},{Amplifier:1,Id:7,ShowParticles:0b,ShowIcon:0b}],id:"minecraft:area_effect_cloud",Particle:"block air",Radius:1.2,ReapplicationDelay:1,Tags:["the_world_revolving","groupable","needs_group_id","groupable_bullet","needs_bullet_id","hostile","attack","attack_damager","attack_damager_rain","attack_damager_rain_diamond"],Passengers:[{Duration:2147483627,Effects:[{Amplifier:3,Id:11,ShowParticles:0b,ShowIcon:0b},{Amplifier:1,Id:7,ShowParticles:0b,ShowIcon:0b}],id:"minecraft:area_effect_cloud",Particle:"block air",Radius:1.2,ReapplicationDelay:1,Tags:["the_world_revolving","groupable","needs_group_id","groupable_bullet","needs_bullet_id","hostile","attack","attack_damager","attack_damager_rain","attack_damager_rain_diamond"],Passengers:[{Age:-32768,id:"minecraft:item",Item:{Count:1b,id:"minecraft:golden_sword",tag:{CustomModelData:3}},PickupDelay:32767,Tags:["the_world_revolving","hostile","groupable","needs_group_id","groupable_bullet","needs_bullet_id","attack","attack_visual","attack_visual_rain","attack_visual_rain_diamond"],Passengers:[{Duration:2147483627,Effects:[{Amplifier:3,Id:11,ShowParticles:0b,ShowIcon:0b},{Amplifier:1,Id:7,ShowParticles:0b,ShowIcon:0b}],id:"minecraft:area_effect_cloud",Particle:"block air",Radius:1.2,ReapplicationDelay:1,Tags:["the_world_revolving","groupable","needs_group_id","groupable_bullet","needs_bullet_id","hostile","attack","attack_damager","attack_damager_rain","attack_damager_rain_diamond"],Passengers:[{Duration:2147483627,Effects:[{Amplifier:3,Id:11,ShowParticles:0b,ShowIcon:0b},{Amplifier:1,Id:7,ShowParticles:0b,ShowIcon:0b}],id:"minecraft:area_effect_cloud",Particle:"block air",Radius:1.2,ReapplicationDelay:1,Tags:["the_world_revolving","groupable","needs_group_id","groupable_bullet","needs_bullet_id","hostile","attack","attack_damager","attack_damager_rain","attack_damager_rain_diamond"],Passengers:[{Duration:2147483627,Effects:[{Amplifier:3,Id:11,ShowParticles:0b,ShowIcon:0b},{Amplifier:1,Id:7,ShowParticles:0b,ShowIcon:0b},{Amplifier:0,Duration:20,Id:27,ShowParticles:0b,ShowIcon:0b}],id:"minecraft:area_effect_cloud",Particle:"block air",Radius:1.2,ReapplicationDelay:1,Tags:["the_world_revolving","groupable","needs_group_id","groupable_bullet","needs_bullet_id","hostile","attack","attack_damager","attack_damager_rain","attack_damager_rain_diamond"]},{Duration:2147483627,Effects:[{Amplifier:4,Duration:2,Id:26,ShowParticles:0b,ShowIcon:0b}],id:"minecraft:area_effect_cloud",Particle:"block air",Radius:2.2,Tags:["the_world_revolving","groupable","needs_group_id","groupable_bullet","needs_bullet_id","hostile","attack","attack_grazer","attack_grazer_diamond","attack_grazer_rain_diamond"]}]}]}]}]}]}]}]}

# Set bullet IDs
execute as @e[tag=needs_bullet_id] run function theafroofdoom:entity/hostile/bullet_id/set
scoreboard players add #bullet_id_next bullet_id 1

# Set attack_variant score
scoreboard players set @e[tag=attack_bullet_rain_new] attack_variant -2
